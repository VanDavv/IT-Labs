CREATE TABLE doctor (
  pesel                BIGINT PRIMARY KEY,
  name                 TEXT NOT NULL,
  spec                 INT,
  degree               TEXT,
  fulltime             BIT,
  started_working_date DATE,
  phone                TEXT
)

CREATE TABLE specialization (
  id   INT IDENTITY (1, 1) PRIMARY KEY,
  name TEXT
)

CREATE TABLE patient (
  pesel             BIGINT PRIMARY KEY,
  name              TEXT NOT NULL,
  address           TEXT NOT NULL,
  phone             INT,
  family_doc        BIGINT FOREIGN KEY REFERENCES doctor (pesel),
  major_diseases    TEXT,
  const_medications TEXT
)

CREATE TABLE office_hours (
  doctor     BIGINT FOREIGN KEY REFERENCES doctor (pesel) PRIMARY KEY,
  day_num    INT  NOT NULL,
  start_hour TIME NOT NULL,
  end_hour   TIME NOT NULL
)

CREATE TABLE visit (
  id          INT IDENTITY (1, 1) PRIMARY KEY,
  doctor      BIGINT FOREIGN KEY REFERENCES doctor (pesel),
  patient     BIGINT FOREIGN KEY REFERENCES patient (pesel),
  date        DATE,
  nr          INT,
  symptoms    TEXT,
  diagnosis   TEXT,
  description TEXT
)


CREATE TABLE salary (
  id         INT IDENTITY (1, 1) PRIMARY KEY,
  doctor     BIGINT FOREIGN KEY REFERENCES doctor (pesel),
  start_date DATE,
  active     BIT,
  netto      FLOAT NOT NULL,
  vat_payer  BIT
)
